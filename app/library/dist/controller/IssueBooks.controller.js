sap.ui.define(["./BaseController","sap/ui/model/odata/v2/ODataModel","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,s,o,t){"use strict";return e.extend("com.app.library.controller.IssueBooks",{onInit:function(){},onIssueBookPress:async function(e){console.log(this.byId("idUserLoans").getSelectedItem().getBindingContext().getObject());if(this.byId("idUserLoans").getSelectedItems().length>1){t.show("Please Select only one Book");return}var s=this.byId("idIssueBooks").getSelectedItem().getBindingContext().getObject();console.log(s);const o=new sap.ui.model.json.JSONModel({bookId_ID:s.book.ID,userId_ID:s.user.ID,issueDate:new Date,dueDate:new Date});this.getView().setModel(o,"userModel");const n=this.getView().getModel("userModel").getProperty("/"),a=this.getView().getModel("modelv2");try{await this.createData(a,n,"/BookLoans");sap.m.MessageBox.success("Book is Succesfully Issued")}catch(e){sap.m.MessageBox.error("Some technical Issue")}}})});